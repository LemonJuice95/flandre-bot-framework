# ChangeLog

## v0.17.1
 - 框架原生的控制台命令将更早加载

## v0.17.0
 - CQ码的image添加图片格式参数

## v0.16.1
 - 对消息上下文对象进行懒初始化优化，减轻GC压力

## v0.16.0
 - 改进同步模式逻辑，现在同步模式下所有的命令将在同一线程内串行执行
 - 增加一个消息构建器工具类

## v0.15.0
 - 控制台类添加读操作方法

## v0.14.0
 - 事件总线添加手动注册的方法

## v0.13.0
 - CQCode的图片添加对BufferedImage的支持
 - 消息上下文类添加一个方法用于直接发送图片

## v0.12.0
 - 移除戳一戳api

## v0.11.0
 - 继续优化插件加载器
 - 在消息上下文中添加一个戳一戳api（注意：实现端可能不支持）

## v0.10.2
 - 修复一个连接中的发送者线程复用的问题

## v0.10.1
 - 修复自定义的`IPermissionLevel`无法在私聊命令中生效的问题

## v0.10.0
 - 添加反向Websocket连接模式
 - 注：配置文件的网络部分发生了变更

## v0.9.0
 - 优化插件加载器的算法
 - 添加一个网络门面来预备添加更多可配置的连接方式

## v0.8.0
 - 【破坏性变更】抛弃Guava EventBus，改为框架内实现

## v0.7.2
 - 修复仍然存在的Websocket客户端初始化并发问题

## v0.7.1
 - 修复bot信息和群聊列表的初始化可能失败的问题

## v0.7.0
 - 添加一个`ContextManager`维护群聊、好友列表（目前加群/好友时无法自动更新，需使用控制台命令手动刷新）
 - 添加控制台命令用于对`ContextManager`进行简单操作
 - 添加一个`AccountInfo`储存bot的qq号和昵称
 - 初步开始进行Websocket客户端消息处理的完善化
 - 添加临时的`NoticeJsonEvent`，用于处理通知
 - 为`MessageEvent.Private`细分好友和临时会话
 - 添加好友/群聊请求相关事件及对应逻辑

## v0.6.5
 - 修复重连尝试时下一次等待时间的显示问题
 - 使用新的控制台命令解析器，支持用引号包裹参数及部分字符的转义

## v0.6.4
 - 修复bot启动时记录的日志中bot名为null的问题
 - 更改Websocket客户端的部分日志信息
 - 打印启动耗时

## v0.6.3
 - 修复控制台系统的部分bug
 - 使用经过修饰的日志输出，确保不会挤占当前输入行
 - 插件加载将可以提供详细错误信息

## v0.6.2
 - 控制台命令现在使用JLine库监听

## v0.6.1
 - 控制台命令现在使用`BufferedReader`监听

## v0.6.0
 - 添加控制台命令系统

## v0.5.2
 - 插件在加载出现异常时记录异常日志

## v0.5.1
 - 为插件提供默认的空依赖列表

## v0.5.0
 - 修复`SimpleGroupCommandRunner`在消息内可能@Bot超过一次时，命令仍然匹配的问题
 - 更改`MessageContext`的构造方式，采用类似建造者模式的链式调用，但并非纯正的建造者模式
 - `MessageContext`添加快捷回复消息的方法
 - 使用更加完善的插件加载器替代原有的PluginInitEvent()

## v0.4.1
 - 修复版本显示问题
 - 修复slf4j的版本冲突问题

## v0.4.0
 - 修复框架版本显示异常的问题
 - 调整BotInitEvent的位置
 - 试图解决slf4j的版本冲突问题

## v0.3.0
 - 【破坏性变更】更改项目包名

## v0.2.3
 - 添加启动信息

## v0.2.2
 - 修复无效echo导致的异常

## v0.2.1
 - 修复WebSocket客户端无法正常启动的问题

## v0.2.0
 - 弃用`SendingUtils`类，`Message`类添加消息上下文包装发送逻辑
 - 添加WebSocket请求-响应模式的实现
 - WebSocket客户端发送消息现在使用阻塞队列
 - 主类中添加`getName()`方法用于获取bot名称
 - 添加事件支持插件加载

## v0.1.1
 - 修复bot启动时记录的日志中bot名为null的问题

## v0.1.0
 - 初始版本